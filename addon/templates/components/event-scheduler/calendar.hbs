<div class="calendar__header">
  <div class="calendar__row">
    {{yield (hash resourceHeader = (component 'event-scheduler/calendar/wrappers/resource-header'))}}
    {{yield (hash gridHeader = (component 'event-scheduler/calendar/wrappers/grid-header'
      slots=calendarInst.slots
      viewType=viewType
      selectedDate=selectedDate
      slotFormat=calendarInst.slotFormat
      onDateViewChange=(action 'changeDateView')
      ))}}
  </div>
</div>
<div class="calendar__content"
  ondrop={{action "droppedEvent"}}
  ondragOver={{action "draggedOver"}}
  ondragLeave={{action "draggedAway"}}>
  <div class="calendar__row calendar__row--bg">
    <div class="calendar__row__name"></div>
    <div class="calendar__row__grid"></div>
  </div>
  {{#each calendarInst.resources as |resource| }}
    {{event-scheduler/calendar/wrappers/resource resource=resource}}
  {{else}}
    {{#unless calendarInst.isLoading}}
      {{yield (hash empty = (component "event-scheduler/calendar/wrappers/empty"
        message='No resources to display'))}}
    {{/unless}}
  {{/each}}
  {{#if calendarInst.isLoading}}
    {{event-scheduler/calendar/placeholders/resource}}
  {{/if}}
</div>
{{#each-in calendarInst.events as |eventId eventObj| }}
  {{#if eventObj}}
    {{event-scheduler/calendar/wrappers/event
      event=eventObj
      viewType=viewType
      draggable=calendarInst.isEventsDraggable}}
    {{/if}}
{{/each-in}}

{{#if displayTimeFieldDialog}}
  {{event-scheduler/calendar/time-field-dialog
    timeFieldChoices=timeFieldChoices
    onStartTimeUpdate=(action 'updateStartTime' displayTimeFieldDialog)
    onClose=(action (mut displayTimeFieldDialog false))
    }}
{{/if}}